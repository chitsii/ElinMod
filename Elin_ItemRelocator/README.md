# Elin Item Relocator

フィルター条件に基づいてインベントリやゾーンのアイテムをコンテナへ移動するMODです。
「高品質以下の武器を出荷箱に集めたい」「暗記強化が40以上の装備を集めたい」

「この箱には★武器だけ」といった細やかな整理整頓を、ワンクリックで実現します。

## 主な機能

- **コンテナへのUI統合**: コンテナのウィンドウ右に「再配置」ボタンを追加
- **強力なフィルタリング**:
  - **カテゴリ**: ツリー構造のピッカーからカテゴリを選択（例: `武器/剣`, `素材/鉱石`）。
  - **エンチャント**: 専用ピッカーからエンチャントを選択（例: `火炎`, `完全貫通`）。検索時は `@エンチャント名` として処理され、強度による指定（`>=10`など）も可能です。
  - **テキスト/タグ**: 名前やタグの部分一致で検索
  - **レアリティ**: ★や☆などのレアリティ指定。
  - **品質**: 品質の数値指定。
- **検索範囲**:
  - **インベントリ**: プレイヤーの所持品を対象。装備中のアイテム、ツールベルトにあるアイテム、大事なもの指定されたアイテムは自動的に除外されます。
  - **ゾーン**: 現在のマップ（足元）にあるアイテムも回収対象に含める（設置済みの家具は除外）
- **リアルタイムプレビュー**: 
  - 検索範囲を変更したり、フィルタを追加したりすると即座に更新されます
  - プレビュー画面から直接アイテムのツールチップを確認できます

## 使い方

1. ゲーム内で任意のコンテナ（箱、タンス、冷蔵庫など）を開きます。
2. ウィンドウ右部に追加される「再配置」ボタンを押すと、条件設定画面とプレビュー画面へ移ります
   - **フィルタ追加**: カテゴリやエンチャントなどの条件を追加します。
   - **設定**: 検索範囲（Scope）や除外設定を変更します。
   - **プレビュー**: 右側のウィンドウで、現在の条件で移動されるアイテムを確認できます。
3. 設定はコンテナごとに自動保存されます（この保存はMod独自機能でセーブデータには影響しません）一度設定すれば次回からはワンクリックで収納できます。

## 検索・フィルタ仕様

- **AND検索**: 追加した複数のフィルタはAND条件として扱われます。
- **テキスト検索**:
  - `パン`: 名前に「パン」を含むアイテム。
  - `@エンチャント名`: エンチャント名のエンチャントや属性を持つアイテム（強度は不問）。
  - `@エンチャント名>=強度`: 強度以上のエンチャントを持つアイテム。
- **カテゴリ検索**:
  - コンテキストメニューからカテゴリを選択します。
- **レアリティ検索**:
  - コンテキストメニューからレアリティを選択します。
- **品質検索**:
  - 品質値フィルタを直接不等式で指定します。

## アンインストール
いつでも導入・削除が可能


## 設定ファイル
コンテナごとの設定ファイルは外部JSONとして保存されています。
`%USERPROFILE%\AppData\LocalLow\Lafrontier\Elin\Save\Elin_ItemRelocator_Data.json`
