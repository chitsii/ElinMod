// <auto-generated>
// Generated by generate_quest_data.py at 2026-01-14T09:17:45.838152
// Do not edit manually. Edit tools/common/quest_dependencies.py instead.
// </auto-generated>

using System;
using System.Collections.Generic;

namespace Elin_SukutsuArena.Quests
{
    /// <summary>
    /// ストーリーフェーズ（クエスト依存関係管理用）
    /// </summary>
    public enum StoryPhase
    {
        Prologue = 0,  // prologue
        Initiation = 1,  // initiation
        Rising = 2,  // rising
        Awakening = 3,  // awakening
        Confrontation = 4,  // confrontation
        Climax = 5,  // climax
    }

    /// <summary>
    /// クエストの種類
    /// </summary>
    public enum ArenaQuestType
    {
        MainStory,  // main_story
        RankUp,  // rank_up
        SideQuest,  // side_quest
        CharacterEvent,  // character_event
        Ending,  // ending
    }

    /// <summary>
    /// NPC ID定数
    /// </summary>
    public static class ArenaNpcIds
    {
        public const string Lily = "sukutsu_receptionist";
        public const string Balgas = "sukutsu_arena_master";
        public const string Zek = "sukutsu_shady_merchant";
        public const string Astaroth = "sukutsu_astaroth";
    }

    /// <summary>
    /// クエスト定義
    /// </summary>
    public class ArenaQuestDefinition
    {
        public string QuestId { get; set; }
        public ArenaQuestType QuestType { get; set; }
        public string DramaId { get; set; }
        public string DisplayNameJP { get; set; }
        public string DisplayNameEN { get; set; }
        public string Description { get; set; }

        // Phase system
        public StoryPhase Phase { get; set; }
        public string QuestGiver { get; set; }  // NPC ID or null for auto-trigger
        public bool AutoTrigger { get; set; }
        public StoryPhase? AdvancesPhase { get; set; }

        // Requirements
        public List<string> RequiredQuests { get; set; } = new List<string>();
        public int Priority { get; set; }

        public bool IsAutoTrigger => AutoTrigger && QuestGiver == null;
        public bool IsNpcQuest => !string.IsNullOrEmpty(QuestGiver);
    }

    /// <summary>
    /// クエストデータベース
    /// </summary>
    public static class ArenaQuestDatabase
    {
        private static Dictionary<string, ArenaQuestDefinition> _quests;
        private static Dictionary<string, List<ArenaQuestDefinition>> _npcQuests;
        private static List<ArenaQuestDefinition> _autoTriggerQuests;

        public static IReadOnlyDictionary<string, ArenaQuestDefinition> AllQuests
        {
            get { EnsureInitialized(); return _quests; }
        }

        public static IReadOnlyDictionary<string, List<ArenaQuestDefinition>> NpcQuests
        {
            get { EnsureInitialized(); return _npcQuests; }
        }

        public static IReadOnlyList<ArenaQuestDefinition> AutoTriggerQuests
        {
            get { EnsureInitialized(); return _autoTriggerQuests; }
        }

        public static ArenaQuestDefinition GetQuest(string questId)
        {
            EnsureInitialized();
            return _quests.TryGetValue(questId, out var quest) ? quest : null;
        }

        public static List<ArenaQuestDefinition> GetQuestsForNpc(string npcId)
        {
            EnsureInitialized();
            return _npcQuests.TryGetValue(npcId, out var quests) ? quests : new List<ArenaQuestDefinition>();
        }

        private static void EnsureInitialized()
        {
            if (_quests != null) return;
            Initialize();
        }

        private static void Initialize()
        {
            _quests = new Dictionary<string, ArenaQuestDefinition>();
            _npcQuests = new Dictionary<string, List<ArenaQuestDefinition>>();
            _autoTriggerQuests = new List<ArenaQuestDefinition>();

            var q_01_opening = new ArenaQuestDefinition
            {
                QuestId = "01_opening",
                QuestType = ArenaQuestType.MainStory,
                DramaId = "sukutsu_opening",
                DisplayNameJP = "異次元の闘技場への到着",
                DisplayNameEN = "Arrival at the Dimensional Arena",
                Description = "プレイヤーがアリーナに到着し、リリィとバルガスに出会う",
                Phase = StoryPhase.Prologue,
                QuestGiver = null,
                AutoTrigger = true,
                AdvancesPhase = null,
                Priority = 1000
            };
            _quests["01_opening"] = q_01_opening;
            _autoTriggerQuests.Add(q_01_opening);

            var q_02_rank_up_G = new ArenaQuestDefinition
            {
                QuestId = "02_rank_up_G",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_G",
                DisplayNameJP = "ランクG昇格試験（屑肉の洗礼）",
                DisplayNameEN = "Rank G Promotion Trial (Baptism of Scraps)",
                Description = "最初の試練を突破し、ランクGを獲得する",
                Phase = StoryPhase.Prologue,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = StoryPhase.Initiation,
                RequiredQuests = new List<string> { "01_opening" },
                Priority = 950
            };
            _quests["02_rank_up_G"] = q_02_rank_up_G;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_02_rank_up_G);

            var q_04_rank_up_F = new ArenaQuestDefinition
            {
                QuestId = "04_rank_up_F",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_F",
                DisplayNameJP = "ランクF昇格試験（凍土の魔犬）",
                DisplayNameEN = "Rank F Promotion Trial (Frozen Hound)",
                Description = "凍土の魔犬を倒し、ランクFを獲得する",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = StoryPhase.Rising,
                RequiredQuests = new List<string> { "02_rank_up_G" },
                Priority = 900
            };
            _quests["04_rank_up_F"] = q_04_rank_up_F;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_04_rank_up_F);

            var q_06_rank_up_E = new ArenaQuestDefinition
            {
                QuestId = "06_rank_up_E",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_E",
                DisplayNameJP = "ランクE昇格試験（錆びついた英雄カイン）",
                DisplayNameEN = "Rank E Promotion Trial (Rusted Hero Kain)",
                Description = "錆びついた英雄カインを倒し、ランクEを獲得する",
                Phase = StoryPhase.Rising,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "04_rank_up_F" },
                Priority = 900
            };
            _quests["06_rank_up_E"] = q_06_rank_up_E;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_06_rank_up_E);

            var q_10_rank_up_D = new ArenaQuestDefinition
            {
                QuestId = "10_rank_up_D",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_D",
                DisplayNameJP = "ランクD昇格試験（銅貨稼ぎの洗礼）",
                DisplayNameEN = "Rank D Promotion Trial (Copper Earner's Baptism)",
                Description = "観客の介入を避けながら戦い、ランクDを獲得する",
                Phase = StoryPhase.Rising,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = StoryPhase.Awakening,
                RequiredQuests = new List<string> { "06_rank_up_E" },
                Priority = 900
            };
            _quests["10_rank_up_D"] = q_10_rank_up_D;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_10_rank_up_D);

            var q_09_rank_up_C = new ArenaQuestDefinition
            {
                QuestId = "09_rank_up_C",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_C",
                DisplayNameJP = "ランクC昇格試験（闘技場の鴉）",
                DisplayNameEN = "Rank C Promotion Trial (Arena Crow)",
                Description = "堕ちた英雄たちを解放し、ランクCを獲得する",
                Phase = StoryPhase.Awakening,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "10_rank_up_D" },
                Priority = 900
            };
            _quests["09_rank_up_C"] = q_09_rank_up_C;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_09_rank_up_C);

            var q_11_rank_up_B = new ArenaQuestDefinition
            {
                QuestId = "11_rank_up_B",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_B",
                DisplayNameJP = "ランクB昇格試験（虚無の処刑人ヌル）",
                DisplayNameEN = "Rank B Promotion Trial (Null the Void Executioner)",
                Description = "虚無の処刑人ヌルを倒し、ランクBを獲得する",
                Phase = StoryPhase.Awakening,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = StoryPhase.Confrontation,
                RequiredQuests = new List<string> { "09_rank_up_C" },
                Priority = 900
            };
            _quests["11_rank_up_B"] = q_11_rank_up_B;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_11_rank_up_B);

            var q_12_rank_up_A = new ArenaQuestDefinition
            {
                QuestId = "12_rank_up_A",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "rank_up_A",
                DisplayNameJP = "ランクA昇格試験（影との戦い）",
                DisplayNameEN = "Rank A Promotion Trial (Shadow Battle)",
                Description = "自分の影（第二のヌル）を倒し、ランクAを獲得する",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "11_rank_up_B" },
                Priority = 900
            };
            _quests["12_rank_up_A"] = q_12_rank_up_A;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_12_rank_up_A);

            var q_15_vs_balgas = new ArenaQuestDefinition
            {
                QuestId = "15_vs_balgas",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "vs_balgas",
                DisplayNameJP = "Rank S 昇格試験『屠竜者への道』",
                DisplayNameEN = "Rank S Trial: Path to Dragon Slayer",
                Description = "全盛期のバルガスとの最終決戦",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "12_rank_up_A" },
                Priority = 910
            };
            _quests["15_vs_balgas"] = q_15_vs_balgas;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_15_vs_balgas);

            var q_15_vs_balgas_spared = new ArenaQuestDefinition
            {
                QuestId = "15_vs_balgas_spared",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "vs_balgas",
                DisplayNameJP = "ランクS昇格：バルガスを見逃す",
                DisplayNameEN = "Rank S: Spare Balgas",
                Description = "バルガスを見逃し、慈悲の道を選んだ",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "12_rank_up_A" },
                Priority = 900
            };
            _quests["15_vs_balgas_spared"] = q_15_vs_balgas_spared;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_15_vs_balgas_spared);

            var q_15_vs_balgas_killed = new ArenaQuestDefinition
            {
                QuestId = "15_vs_balgas_killed",
                QuestType = ArenaQuestType.RankUp,
                DramaId = "vs_balgas",
                DisplayNameJP = "ランクS昇格：バルガスを殺す",
                DisplayNameEN = "Rank S: Kill Balgas",
                Description = "観客の命令に従い、バルガスを殺した",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "12_rank_up_A" },
                Priority = 900
            };
            _quests["15_vs_balgas_killed"] = q_15_vs_balgas_killed;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_15_vs_balgas_killed);

            var q_03_zek_intro = new ArenaQuestDefinition
            {
                QuestId = "03_zek_intro",
                QuestType = ArenaQuestType.CharacterEvent,
                DramaId = "zek_intro",
                DisplayNameJP = "影歩きの邂逅",
                DisplayNameEN = "Encounter with the Shadow Walker",
                Description = "商人ゼクとの初遭遇",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "02_rank_up_G" },
                Priority = 800
            };
            _quests["03_zek_intro"] = q_03_zek_intro;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_03_zek_intro);

            var q_05_1_lily_experiment = new ArenaQuestDefinition
            {
                QuestId = "05_1_lily_experiment",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "lily_experiment",
                DisplayNameJP = "リリィの私的依頼『残響の器』",
                DisplayNameEN = "Lily's Private Request: Vessel of Echoes",
                Description = "リリィのために死の共鳴瓶を製作する",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_receptionist",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "04_rank_up_F" },
                Priority = 700
            };
            _quests["05_1_lily_experiment"] = q_05_1_lily_experiment;
            if (!_npcQuests.ContainsKey("sukutsu_receptionist"))
                _npcQuests["sukutsu_receptionist"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_receptionist"].Add(q_05_1_lily_experiment);

            var q_05_2_zek_steal_bottle = new ArenaQuestDefinition
            {
                QuestId = "05_2_zek_steal_bottle",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_bottle",
                DisplayNameJP = "ゼクの器すり替え",
                DisplayNameEN = "Zek's Bottle Swap",
                Description = "ゼクが共鳴瓶のすり替えを提案してくる",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "05_1_lily_experiment" },
                Priority = 710
            };
            _quests["05_2_zek_steal_bottle"] = q_05_2_zek_steal_bottle;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_05_2_zek_steal_bottle);

            var q_05_2_zek_steal_bottle_accept = new ArenaQuestDefinition
            {
                QuestId = "05_2_zek_steal_bottle_accept",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_bottle",
                DisplayNameJP = "ゼクの器すり替え：応諾",
                DisplayNameEN = "Zek's Bottle Swap: Accepted",
                Description = "ゼクの提案に応じて共鳴瓶をすり替えた",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "05_1_lily_experiment" },
                Priority = 700
            };
            _quests["05_2_zek_steal_bottle_accept"] = q_05_2_zek_steal_bottle_accept;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_05_2_zek_steal_bottle_accept);

            var q_05_2_zek_steal_bottle_refuse = new ArenaQuestDefinition
            {
                QuestId = "05_2_zek_steal_bottle_refuse",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_bottle",
                DisplayNameJP = "ゼクの器すり替え：拒否",
                DisplayNameEN = "Zek's Bottle Swap: Refused",
                Description = "ゼクの提案を断り、正直にリリィに渡した",
                Phase = StoryPhase.Initiation,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "05_1_lily_experiment" },
                Priority = 700
            };
            _quests["05_2_zek_steal_bottle_refuse"] = q_05_2_zek_steal_bottle_refuse;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_05_2_zek_steal_bottle_refuse);

            var q_06_2_zek_steal_soulgem = new ArenaQuestDefinition
            {
                QuestId = "06_2_zek_steal_soulgem",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_soulgem",
                DisplayNameJP = "カインの魂の行方",
                DisplayNameEN = "Fate of Kain's Soul",
                Description = "ゼクがカインの魂の取引を持ちかけてくる",
                Phase = StoryPhase.Rising,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "06_rank_up_E" },
                Priority = 860
            };
            _quests["06_2_zek_steal_soulgem"] = q_06_2_zek_steal_soulgem;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_06_2_zek_steal_soulgem);

            var q_06_2_zek_steal_soulgem_sell = new ArenaQuestDefinition
            {
                QuestId = "06_2_zek_steal_soulgem_sell",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_soulgem",
                DisplayNameJP = "カインの魂：売却",
                DisplayNameEN = "Kain's Soul: Sold",
                Description = "カインの魂をゼクに売った",
                Phase = StoryPhase.Rising,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "06_rank_up_E" },
                Priority = 850
            };
            _quests["06_2_zek_steal_soulgem_sell"] = q_06_2_zek_steal_soulgem_sell;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_06_2_zek_steal_soulgem_sell);

            var q_06_2_zek_steal_soulgem_return = new ArenaQuestDefinition
            {
                QuestId = "06_2_zek_steal_soulgem_return",
                QuestType = ArenaQuestType.SideQuest,
                DramaId = "zek_steal_soulgem",
                DisplayNameJP = "カインの魂：返還",
                DisplayNameEN = "Kain's Soul: Returned",
                Description = "カインの魂をバルガスに返した",
                Phase = StoryPhase.Rising,
                QuestGiver = "sukutsu_shady_merchant",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "06_rank_up_E" },
                Priority = 850
            };
            _quests["06_2_zek_steal_soulgem_return"] = q_06_2_zek_steal_soulgem_return;
            if (!_npcQuests.ContainsKey("sukutsu_shady_merchant"))
                _npcQuests["sukutsu_shady_merchant"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_shady_merchant"].Add(q_06_2_zek_steal_soulgem_return);

            var q_07_upper_existence = new ArenaQuestDefinition
            {
                QuestId = "07_upper_existence",
                QuestType = ArenaQuestType.MainStory,
                DramaId = "upper_existence",
                DisplayNameJP = "高次元存在の真実",
                DisplayNameEN = "Truth of Higher Dimensional Beings",
                Description = "観客の正体と闘技場の真実が明らかになる",
                Phase = StoryPhase.Awakening,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "10_rank_up_D" },
                Priority = 800
            };
            _quests["07_upper_existence"] = q_07_upper_existence;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_07_upper_existence);

            var q_08_lily_private = new ArenaQuestDefinition
            {
                QuestId = "08_lily_private",
                QuestType = ArenaQuestType.CharacterEvent,
                DramaId = "lily_private",
                DisplayNameJP = "リリィの私室招待",
                DisplayNameEN = "Invitation to Lily's Private Room",
                Description = "リリィの私室に招待される",
                Phase = StoryPhase.Awakening,
                QuestGiver = "sukutsu_receptionist",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "10_rank_up_D" },
                Priority = 600
            };
            _quests["08_lily_private"] = q_08_lily_private;
            if (!_npcQuests.ContainsKey("sukutsu_receptionist"))
                _npcQuests["sukutsu_receptionist"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_receptionist"].Add(q_08_lily_private);

            var q_09_balgas_training = new ArenaQuestDefinition
            {
                QuestId = "09_balgas_training",
                QuestType = ArenaQuestType.CharacterEvent,
                DramaId = "balgas_training",
                DisplayNameJP = "戦士の哲学：鉄を打つ鉄",
                DisplayNameEN = "Warrior's Philosophy: Iron Forges Iron",
                Description = "バルガスから戦士の哲学を学ぶ特別訓練",
                Phase = StoryPhase.Awakening,
                QuestGiver = "sukutsu_arena_master",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "10_rank_up_D" },
                Priority = 650
            };
            _quests["09_balgas_training"] = q_09_balgas_training;
            if (!_npcQuests.ContainsKey("sukutsu_arena_master"))
                _npcQuests["sukutsu_arena_master"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_arena_master"].Add(q_09_balgas_training);

            var q_12_makuma = new ArenaQuestDefinition
            {
                QuestId = "12_makuma",
                QuestType = ArenaQuestType.MainStory,
                DramaId = "makuma",
                DisplayNameJP = "ヌルの記憶チップとリリィの衣装",
                DisplayNameEN = "Null's Memory Chip and Lily's Outfit",
                Description = "ランクB達成報酬として特別な衣装を授与され、ゼクがヌルの真実を暴露する",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_receptionist",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "11_rank_up_B" },
                Priority = 850
            };
            _quests["12_makuma"] = q_12_makuma;
            if (!_npcQuests.ContainsKey("sukutsu_receptionist"))
                _npcQuests["sukutsu_receptionist"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_receptionist"].Add(q_12_makuma);

            var q_13_makuma2 = new ArenaQuestDefinition
            {
                QuestId = "13_makuma2",
                QuestType = ArenaQuestType.MainStory,
                DramaId = "makuma2",
                DisplayNameJP = "虚空の心臓製作【複数分岐統合】",
                DisplayNameEN = "Void Core Crafting [Multiple Branch Convergence]",
                Description = "虚空の心臓を製作し、過去の選択の清算が行われる",
                Phase = StoryPhase.Confrontation,
                QuestGiver = null,
                AutoTrigger = true,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "12_makuma", "05_2_zek_steal_bottle_accept" },
                Priority = 850
            };
            _quests["13_makuma2"] = q_13_makuma2;
            _autoTriggerQuests.Add(q_13_makuma2);

            var q_16_lily_real_name = new ArenaQuestDefinition
            {
                QuestId = "16_lily_real_name",
                QuestType = ArenaQuestType.CharacterEvent,
                DramaId = "lily_real_name",
                DisplayNameJP = "リリィの真名告白",
                DisplayNameEN = "Lily's True Name Revelation",
                Description = "リリィが真名『リリシエル』を明かす",
                Phase = StoryPhase.Confrontation,
                QuestGiver = "sukutsu_receptionist",
                AutoTrigger = false,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "15_vs_balgas_spared" },
                Priority = 600
            };
            _quests["16_lily_real_name"] = q_16_lily_real_name;
            if (!_npcQuests.ContainsKey("sukutsu_receptionist"))
                _npcQuests["sukutsu_receptionist"] = new List<ArenaQuestDefinition>();
            _npcQuests["sukutsu_receptionist"].Add(q_16_lily_real_name);

            var q_17_vs_astaroth = new ArenaQuestDefinition
            {
                QuestId = "17_vs_astaroth",
                QuestType = ArenaQuestType.MainStory,
                DramaId = "vs_astaroth",
                DisplayNameJP = "アスタロト初遭遇、ゼクによる救出",
                DisplayNameEN = "First Astaroth Encounter, Zek's Rescue",
                Description = "アスタロトが降臨し、ゼクが介入して救出する",
                Phase = StoryPhase.Confrontation,
                QuestGiver = null,
                AutoTrigger = true,
                AdvancesPhase = StoryPhase.Climax,
                RequiredQuests = new List<string> { "12_rank_up_A" },
                Priority = 900
            };
            _quests["17_vs_astaroth"] = q_17_vs_astaroth;
            _autoTriggerQuests.Add(q_17_vs_astaroth);

            var q_18_last_battle = new ArenaQuestDefinition
            {
                QuestId = "18_last_battle",
                QuestType = ArenaQuestType.Ending,
                DramaId = "last_battle",
                DisplayNameJP = "最終決戦：アスタロト撃破",
                DisplayNameEN = "Final Battle: Defeat Astaroth",
                Description = "アスタロトとの最終決戦、複数のエンディング分岐",
                Phase = StoryPhase.Climax,
                QuestGiver = null,
                AutoTrigger = true,
                AdvancesPhase = null,
                RequiredQuests = new List<string> { "17_vs_astaroth" },
                Priority = 1000
            };
            _quests["18_last_battle"] = q_18_last_battle;
            _autoTriggerQuests.Add(q_18_last_battle);

            // Sort auto-trigger quests by priority
            _autoTriggerQuests.Sort((a, b) => b.Priority.CompareTo(a.Priority));
        }
    }
}